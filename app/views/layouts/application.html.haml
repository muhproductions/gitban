%html{lang: :en}
  %head
    %meta{content: 'text/html; charset=UTF-8', 'http-equiv': 'Content-Type'}/
    %meta{charset: 'utf-8'}/
    %meta{content: 'IE=edge', 'http-equiv': 'X-UA-Compatible'}/
    %meta{content: 'GitBan', name: :description}/
    %meta{content: 'width=device-width, initial-scale=1', name: 'viewport'}/
    %meta{content: '#4caf50', name: 'theme-color'}
    %title= yield :title
    = stylesheet_link_tag 'application'
    = javascript_include_tag 'application'
    = yield :script
    = favicon_link_tag
  %main{class: (@board rescue nil) ? 'blue darken-4' : ''}

    .navbar-fixed
      %nav.white
        .container
          .nav-wrapper.blue-text.text-darken-2
            %a.blue-text.text-darken-2.brand-logo{href: '/', class: user_signed_in? ? '' : 'center'}
              %i.fa.fa-gitlab
              GitBan
            %ul.right.hide-on-med-and-down
              - if user_signed_in?
                %li{class: cp("/")}
                  %a.blue-text.text-darken-2{href: '/'} Home
                %li{class: cp("/assignees")}
                  %a.blue-text.text-darken-2{href: '/assignees'} Assignees
                %li{class: cp("/boards")}
                  %a.blue-text.text-darken-2{href: '/boards'} Boards
                %li{class: cp("/columns")}
                  %a.blue-text.text-darken-2{href: '/columns'} Columns
                %li{class: cp("/milestones")}
                  %a.blue-text.text-darken-2{href: '/milestones'} Milestones
                %li{class: cp("/projects")}
                  %a.blue-text.text-darken-2{href: '/projects'} Projects
                %li{class: cp("/tasks")}
                  %a.blue-text.text-darken-2{href: '/tasks'} Tasks
                %li
                  %i.fa.fa-user.fa-fw
                  = current_user.name
                %li
                  = link_to('Logout', destroy_user_session_path, :method => :delete)
                - if @no_footer
                  %li.brand-logo
                    %i.right.fa.fa-check-square-o.blue-text
                    #col-0{style: 'height: 64px; width: 100px;'}
    %div.blue.darken-4
      - if flash[:error]
        .alert.alert-danger.alert.dismissible
          %button.close{type: :button, 'data-dismiss': :alert}
            &times;
          = flash[:error]
      - elsif flash[:success]
        .alert.alert-success.alert.dismissible
          %button.close{type: :button, 'data-dismiss': :alert}
            &times;
          = flash[:success]
    = yield
  - unless @no_footer
    %footer.page-footer.blue
      .footer-copyright
        .container
          Â© 2016 muhproductions
          %a.grey-text.text-lighten-4.right{href: 'https://github.com/muhproductions'}
            muhproductions
            %i.fa.fa-heart
            GitHub
